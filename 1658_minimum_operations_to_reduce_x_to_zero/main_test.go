package main

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestMinOperations(t *testing.T) {
	case1 := []int{1, 1, 4, 2, 3}
	assert.Equal(t, 2, minOperations(case1, 5))

	case2 := []int{5, 6, 7, 8, 9}
	assert.Equal(t, -1, minOperations(case2, 4))

	case3 := []int{3, 2, 20, 1, 1, 3}
	assert.Equal(t, 5, minOperations(case3, 10))

	case4 := []int{5, 2, 3, 1, 1}
	assert.Equal(t, 1, minOperations(case4, 5))

	case5 := []int{5207, 5594, 477, 6938, 8010, 7606, 2356, 6349, 3970, 751, 5997, 6114, 9903, 3859, 6900, 7722, 2378, 1996, 8902, 228, 4461, 90, 7321, 7893, 4879, 9987, 1146, 8177, 1073, 7254, 5088, 402, 4266, 6443, 3084, 1403, 5357, 2565, 3470, 3639, 9468, 8932, 3119, 5839, 8008, 2712, 2735, 825, 4236, 3703, 2711, 530, 9630, 1521, 2174, 5027, 4833, 3483, 445, 8300, 3194, 8784, 279, 3097, 1491, 9864, 4992, 6164, 2043, 5364, 9192, 9649, 9944, 7230, 7224, 585, 3722, 5628, 4833, 8379, 3967, 5649, 2554, 5828, 4331, 3547, 7847, 5433, 3394, 4968, 9983, 3540, 9224, 6216, 9665, 8070, 31, 3555, 4198, 2626, 9553, 9724, 4503, 1951, 9980, 3975, 6025, 8928, 2952, 911, 3674, 6620, 3745, 6548, 4985, 5206, 5777, 1908, 6029, 2322, 2626, 2188, 5639}
	assert.Equal(t, 113, minOperations(case5, 565610))

	case6 := []int{1241, 8769, 9151, 3211, 2314, 8007, 3713, 5835, 2176, 8227, 5251, 9229, 904, 1899, 5513, 7878, 8663, 3804, 2685, 3501, 1204, 9742, 2578, 8849, 1120, 4687, 5902, 9929, 6769, 8171, 5150, 1343, 9619, 3973, 3273, 6427, 47, 8701, 2741, 7402, 1412, 2223, 8152, 805, 6726, 9128, 2794, 7137, 6725, 4279, 7200, 5582, 9583, 7443, 6573, 7221, 1423, 4859, 2608, 3772, 7437, 2581, 975, 3893, 9172, 3, 3113, 2978, 9300, 6029, 4958, 229, 4630, 653, 1421, 5512, 5392, 7287, 8643, 4495, 2640, 8047, 7268, 3878, 6010, 8070, 7560, 8931, 76, 6502, 5952, 4871, 5986, 4935, 3015, 8263, 7497, 8153, 384, 1136}
	assert.Equal(t, -1, minOperations(case6, 894887480))

	case7 := []int{2849, 9921, 4150, 553, 6627, 8862, 5347, 2530, 5860, 1014, 4049, 6995, 7221, 1604, 6990, 9251, 1843, 6607, 7176, 4639, 1364, 7900, 27, 3718, 3236, 4604, 4690, 1496, 9436, 1509, 5323, 3734, 5016, 8803, 7755, 1867, 7445, 1195, 9980, 2601, 8096, 8319, 6680, 5245, 5811, 2467, 6865, 1583, 5221, 741, 1793, 8620, 9806, 976, 1335, 793, 4214, 7904, 1085, 8019, 2848, 2965, 4681, 5224, 7766, 4017, 4589, 3620, 9687, 4335, 5742, 3632, 9833, 9116, 1040, 2423, 5002, 4784, 8499, 6505, 5378, 7002, 5846, 2195, 409, 4896, 1797, 3237, 717, 4936, 4890, 767, 6364, 8808, 5084, 8397, 3565, 742, 2102, 5342, 9510, 2638, 8795, 6926, 4792, 4764, 1341, 1823, 1955, 8357, 3018, 1195, 9513, 2438, 9695, 3199, 5629, 5587, 7950, 1696, 9968, 8169, 8205, 3762, 2426, 7814, 3725, 140, 54, 303, 1008, 1929, 3938, 1641, 9441, 1460, 1508, 5189, 8076, 9740, 1319, 1386, 8719, 4172, 8058, 3790, 4948, 9742, 1377, 2406, 8077, 6284, 6663, 7444, 1939, 5004, 8834, 3041, 2064, 8752, 7129, 5142, 9939, 2054, 2888, 1572, 155, 828, 2090, 3967, 2295, 256, 696, 1990, 8094, 5321, 1671, 8329, 3276, 7554, 8146, 9062, 2843, 4273, 9092, 9037, 8301, 5772, 4580, 7907, 6296, 200, 4932, 7496, 786, 3091, 681, 6550, 7985, 1938, 3283, 4205, 3422, 7356, 6788, 78, 2243, 5559, 5425, 5651, 4226, 6311, 93, 8326, 5674, 5486, 4132, 2967, 4956, 1018, 9505, 4923, 8136, 1073}
	assert.Equal(t, 74, minOperations(case7, 351061))

}
